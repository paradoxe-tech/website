<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Paradoxe Uni</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">
  <link rel="icon" href="./assets/uni-logo.png">
</head>

<body onload="cherrypick()">
  <div id="popup-screen" class="hidden" onclick="togglePopup()"></div>
  <div id="popup" class="hidden">
    <h1 id="uniyourpocketuniverse">Uni - Your pocket universe</h1>
    <h3 id="simulateuruniverselintuitifdautomatescellulaires">Simulateur universel intuitif d'automates cellulaires</h3>
    <h2 id="leprojet">Le projet</h2>
    <p>Uni, c'est avant tout la vulgarisation du monde des automates cellulaires √† toute une partie de la population : ceux qui ne savent pas coder ! L'objectif √©tait clair : un bac √† sable programmable par bloc (from scratch) capable de simuler une grande majorit√© des r√®gles int√©ressantes. Et voil√† chose faite ! Il y a encore beaucoup de d√©fauts, mais on peut d√©j√† s'amuser avec le projet et repousser ses limites.</p>
    <blockquote>
      <p>üåç <a href="https://callmekitsu.com/h/uni">Version Stable</a> / <a href="https://callmekitsu.replit.app/h/uni">Version Stable (actualisation rapide)</a></p>
      <p>üåç <a href="https://b8a210d6-fd04-4d4e-8d99-c38dcbba5b0b-00-1eslt0xo4n2r5.kirk.replit.dev/h/uni">Version Canary</a> (par cons√©quent souvent indisponible)</p>
    </blockquote>
    <h2 id="automatecellulaire">Automate cellulaire ?</h2>
    <p>Une grille, th√©oriquement infinie, dans laquelle les cellules (cases de la grille) ont un √©tat, g√©n√©ralement un nombre. On repr√©sente ici les √©tats par des couleurs (avec noir = 0). Cet univers √©volue au cours des g√©n√©rations en fonction de r√®gles, souvent simples, d√©finies √† l'avance. Par exemple, on peut penser √† des r√®gles de voisinage, qui comptent les voisins "vivants" (√©tat &gt; 0) d'une cellule ; ou encore, une r√®gle d'√©tat, qui v√©rifie qu'une cellule est dans un √©tat donn√©.</p>
    <h2 id="templates">Templates</h2>
    <p>La plate-forme propose une liste de templates, qui sont en fait des jeux de r√®gles pour √©enregistr√©es qui correspondent √† des automates c√©l√®bres pour leurs propri√©t√©s. Vous pouvez aussi choisir √† tout moment "custom automata" dans la liste d√©roulante pour cr√©er votre propre univers ! √Ä ce jour, certaines configurations de r√®gles ne sont pas pour √©vues par le panel de configuration en blocs ; elles seront certainement ajout√©es avec le temps !</p>
    <h2 id="interface">Interface</h2>
    <p>Quelques boutons s'offrent √† vous dans l'interface ! Les premiers sont les fl√®ches directionnelles, "avant" et "arri√®re" qui vous permettent tout simplement de passer d'une g√©n√©ration √† une autre. Ensuite, le bouton "play / pause" avance dans les g√©n√©rations en continu tant qu'il n'est pas press√© √† nouveau. Les s√©l√©cteurs de curseur sont au nombre de trois : "switch", repr√©sent√© par un drapeau, vous donnera la possibilit√© de cliquer sur une cellule pour faire passer son √©tat de 0 √† 1 et inversement ; "plus" d'ajouter 1 √† l'√©tat actuel de la cellule et "moins" √† y enlever 1. Enfin, le bouton "√©tincelles" red√©finit l'√©tat d'un certain nombre de cellule dans l'univers √† "vivante".</p>
    <p>En haut √† gauche de l'univers, quelques valeurs sont affich√©es et s'actualisent en continu ! Il s'agit respectivement de la population (nombre de cellules dont l'√©tat n'est pas nul) ; du score de l'univers (somme des valeurs des √©tats) et de la g√©n√©ration en cours.</p>
    <h2 id="objectifs">Objectifs</h2>
    <p>La propagation du projet dans les √©coles et coll√®ges du monde serait un grand pas pour la sensibilisation √† l'informatique th√©orique ! En effet, les enjeux sont plut√¥t faciles √† comprendre : un grand nombre de comportements complexes √©merge de r√®gles √©l√©mentaires. En attendant, il serait souhaitable de partager le projet √† un maximum de personnes int√©ress√©es ou non par la th√©matique !</p>
    <h2 id="dpendances">D√©pendances</h2>
    <p>L'affichage utilise <a href="https://get.webgl.org/webgl2/">WebGL2</a>. Le calcul des √©tats ne fait appel √† aucune librairie externe, si ce n'est <a href="https://callmekitsu.com/h/tsu-js">Tsu.js</a>. Enfin, les ic√¥nes vectorielles des boutons de l'interface proviennent d'<a href="https://ionic.io/icons">ionicons</a> et la police utilis√©e est <a href="https://fonts.google.com/specimen/Itim">Itim, cursive</a> ; d√©tenue par Google Fonts.</p>
    <h2 id="algorithme">Algorithme</h2>
    <p>L'ensenble des √©tats est stock√© dans une matrice d'√©tats, fonction de la g√©n√©ration actuelle. Un jeu de r√®gles lui est appliqu√© et renvoie une matrice de transformation, utilis√©e sur l'univers au temps <code>t</code> pour obtenir le temps <code>t+1</code>. Pragmatiquement, la matrice de transformation est une pile de proc√©dures visant chacune une cellule de la grille, parmi l'ensemble des cellules modifi√©es depuis le temps pour √©c√©dent.</p>
    <h2 id="limitations">Limitations</h2>
    <p>La puissance de calcul est limit√©e par le navigateur et sa portabilit√©, mais l'utilisation de shaders rend son affichage beaucoup plus optimis√©. Cependant, √† partir d'une taille de fen√™tre environ √©gale √† 100, le temps de g√©n√©ration pour certains jeux de r√®gles peut drastiquement augmenter, allant jusqu'√† l'ordre de la seconde. Tout ceci ne s'applique que pour la version actuelle du projet, et des optimisations algorithmiques sont √©videmment pour √©vues.  </p>
    <h2 id="cequepeutsimuleruni">Ce que peut simuler Uni</h2>
    <ul>
    <li>Tous les <a href="https://fr.wikipedia.org/wiki/Automate_cellulaire#Automates_totalistiques">automates totalistiques</a> (chaque √©tat d√©pend du voisinage et de l'√©tat pour √©c√©dent)</li>
    <li>Toutes les r√®gles de Conway</li>
    <li>Toutes les r√®gles de Wolfram</li>
    <li>[Piles de sable] et ses variantes</li>
    </ul>
    <h2 id="cequenepeutpassimuleruniupourlinstantu">Ce que ne peut pas simuler Uni <u>pour l'instant</u></h2>
    <ul>
    <li>Les automates faisant intervenir une Entit√©</li>
    <li><a href="https://en.wikipedia.org/wiki/HPP_model">Simulation de gaz</a> ou autres, mod√©lisant des fl√®ches directionnelles</li>
    <li><a href="https://fr.wikipedia.org/wiki/Fourmi_de_Langton">Fourmi de Langton</a> et ses variantes</li>
    <li>Les automates dont le voisinage √©volue au cours du temps</li>
    <li><a href="https://www.cell-auto.com/bbm/2d/index.html">Billiard Ball Machine</a> et autres d√©riv√©es du <a href="https://www.cell-auto.com/neighbourhood/margolus/index.html">voisinage de Margolus</a></li>
    <li>Les automates qui font intervenir des modes de transition</li>
    <li>[Automates fongiques] et ses variantes</li>
    <li>Les <a href="https://fr.wikipedia.org/wiki/Automate_cellulaire#Automates_cellulaires_probabilistes">automates probabilistes</a> et / ou faisant intervenir des choix</li>
    </ul>
    <h2 id="cequenepourrajamaissimuleruni">Ce que ne pourra jamais simuler Uni</h2>
    <ul>
    <li>Les automates √† dimension sup√©rieure √† 2</li>
    <li>Les automates √† cellules non car√©es</li>
    </ul>
  </div>
  
  <div id="main">
    <div class="cols" style="flex-direction: row;">
      <div id="universe">
        <div id="zoom-panel">
          <button onclick="zoom(1, UNI.pixi.stage.x, UNI.pixi.stage.y)"><ion-icon name="add"></ion-icon></button>
          <button onclick="zoom(0, UNI.pixi.stage.x, UNI.pixi.stage.y)"><ion-icon name="remove"></ion-icon></button>
        </div>
        <div id="info-panel">
          <span class="info">üë• <span id="population">0</span></span>
          <span class="info">üí° <span id="score">0</span></span>
          <span class="info">üë®‚Äçü¶≥ <span id="generation">0</span></span>
          <!--<span class="info">‚è± <span id="time">0</span>s</span>-->
        </div>
        <div id="details">
          <div id="buttons">
            <button onclick="prev()"><ion-icon name="arrow-back"></ion-icon></button>
            <button onclick="play()"><ion-icon id="player" name="play"></ion-icon></button>
            <button onclick="next()"><ion-icon name="arrow-forward"></ion-icon></button>
            <button onclick="reset()" class="red"><ion-icon name="trash-bin"></ion-icon></button>
            <button onclick="random()"><ion-icon name="sparkles"></ion-icon></button>
            <button onclick="cherrypick()"><ion-icon name="golf"></ion-icon></button>
            <button onclick="removal()"><ion-icon name="remove-circle"></ion-icon></button>
            <button onclick="addition()"><ion-icon name="add-circle"></ion-icon></button>
          </div>
        </div>
        <canvas id="grid"></canvas>
      </div>
      <div id="side-panel">
        <h1 class="title">Create your <green>Uni</green></h1>
        <div id="panel-options">
          <ion-icon name="information-circle" onclick="togglePopup()"></ion-icon>
          <ion-icon name="scan" onclick="toggleEditingMode()"></ion-icon>
          <ion-icon name="code-download" onclick="downloadRuleSet()"></ion-icon>
        </div>
        <div class="uni-param" id="template-select">
          <select id="pet-select" oninput="template(this.value)">
            <option value="blank">Commencer avec un jeu vierge</option>
            <option value="upload">Charger un jeu de r√®gles existant</option>
            <optgroup label="Conway Rule">
              <option default selected value="B3/S23">The Game of Life - Conway Rule B3/S23</option>
              <option value="B36/S23">Highlife - Conway Rule B36/S23</option>
              <option value="B34/S34">34 Life - Conway Rule B34/S34</option>
              <option value="B3SALL">Life without Death - Conway Rule B3/SALL</option>
              <option value="B3678/S34678">Day and Night - Conway Rule B3678/S34678</option>
              <option value="B2/S">Seeds - Conway Rule B2/S</option>
              <option value="B3/S1234">The Maze - B3/S1234</option>
              <option value="B367/S140678">Slow Blob - B367/S140678</option>
            </optgroup>
            <optgroup label="Wolfram Rule">
              <option value="W126">Sierpi≈Ñski - Wolfram Rule 126</option>
              <option value="W30">Conus textile - Wolfram Rule 30</option>
              <option value="W110">Chaos - Wolfram Rule 110</option>
            </optgroup>
            <option disabled value="fungi">Automate Fongique</option>
            <option value="sand">Piles de sable</option>
            <option value="BB">Brian's Brain</option>
            <option value="GHM">Greenberg‚ÄìHastings</option>
            <option value="FF">Feux de f√¥ret</option>
            <option disabled value="langton">Langton's Ant</option>
            <option value="move">Move</option>
            <optgroup label="Margolus Rule">
              <option value="marg{0;1;2;12;4;10;9;7;8;6;5;11;3;13;14;15}">
                StringThing</option>
              <option disabled value="billiard">
                Billiard Ball Machine</option>
              <option 
                value="marg{0;8;4;12;2;10;9;14;1;6;5;13;3;11;7;15}">
                HPP (Hardy-Pazzis-Pomeau)</option>
            </optgroup>
          </select>
        </div>
        <div class="uni-param editing" id="rules"></div>
      </div>
    </div>
  </div>

  <input type="file" id="fileuploader" class="hidden" accept="text/html,.html">

  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.2/pixi.min.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="https://twgljs.org/dist/twgl.min.js"></script>
  <script src="../vanta/cdn/libs/Filesaver.js"></script>
  <script src="data.js"></script>
  <script src="../tsu.js"></script>
  <script src="./src/renderer.js"></script>
  <script src="./src/scratch.js"></script>
  <script src="./src/Rules.js"></script>
  <script src="./src/Universe.js"></script>
  <script src="script.js"></script>
  <script src="./src/pixi.js"></script>
</body>

</html>